<div class="modal-overlay" (click)="cancelar()">
  <div class="card modal-card" (click)="$event.stopPropagation()">
    <div class="card-body">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <h5 class="card-title fw-bold">Novo Prêmio</h5>
        <button type="button" class="btn-close" aria-label="Close" (click)="cancelar()"></button>
      </div>

      <form [formGroup]="premioForm" (ngSubmit)="salvar()">
        <div class="mb-3">
          <label for="nome" class="form-label">Nome</label>
          <input
            type="text"
            class="form-control"
            [class.is-invalid]="campoInvalido('nome')"
            id="nome"
            formControlName="nome">
          <div *ngIf="campoInvalido('nome')" class="invalid-feedback">
            {{ obterMensagemErro('nome') }}
          </div>
        </div>

        <div class="mb-3">
          <label for="descricao" class="form-label">Descrição</label>
          <textarea
            class="form-control"
            [class.is-invalid]="campoInvalido('descricao')"
            id="descricao"
            rows="3"
            formControlName="descricao"></textarea>
          <div *ngIf="campoInvalido('descricao')" class="invalid-feedback">
            {{ obterMensagemErro('descricao') }}
          </div>
        </div>

        <div class="row">
          <div class="col-md-6 mb-3">
            <label for="ano" class="form-label">Ano/Edição</label>
            <input
              type="text"
              class="form-control"
              [class.is-invalid]="campoInvalido('ano')"
              id="ano"
              formControlName="ano"
              placeholder="2024">
            <div *ngIf="campoInvalido('ano')" class="invalid-feedback">
              {{ obterMensagemErro('ano') }}
            </div>
          </div>

          <div class="col-md-6 mb-3">
            <label for="cronograma" class="form-label">Cronograma</label>
            <app-searchable-select
              [options]="cronogramasOptions"
              [loading]="carregandoCronogramas"
              [searchable]="true"
              [clearable]="true"
              placeholder="Selecione um cronograma"
              searchPlaceholder="Buscar cronograma..."
              noResultsText="Nenhum cronograma encontrado"
              formControlName="cronogramaId"
              (search)="onCronogramaSearch($event)"
              (selectionChange)="onCronogramaChange($event)">
            </app-searchable-select>
            <div *ngIf="campoInvalido('cronogramaId')" class="invalid-feedback d-block">
              {{ obterMensagemErro('cronogramaId') }}
            </div>
          </div>
        </div>

        <div class="d-flex justify-content-end">
          <button type="button" class="btn btn-secondary me-2" (click)="cancelar()">
            Cancelar
          </button>
          <button type="submit" class="btn btn-dark" [disabled]="premioForm.invalid">
            Salvar
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
